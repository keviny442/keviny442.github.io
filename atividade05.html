<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Formulário de Pré-Matrícula</title>

<style>
    body {
        font-family: Arial;
        background: #f2f2f2;
        padding: 30px;
    }

    h1, h2 {
        text-align: center;
    }

    fieldset {
        border: 2px solid #555;
        margin-bottom: 20px;
        padding: 15px;
        background: white;
    }

    label {
        display: block;
        margin-top: 10px;
    }

    input, select {
        padding: 5px;
        margin-top: 4px;
    }

    .linha {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .erro {
        color: red;
        font-weight: bold;
        margin-top: 10px;
    }

    .sucesso {
        color: green;
        font-weight: bold;
        margin-top: 10px;
    }

</style>
</head>
<body>

<h1>Escola Virtual</h1>
<h2>Formulário de Pré-Matrícula</h2>

<form id="form">

    <fieldset>
        <legend>Dados Pessoais:</legend>

        <label>Nome do Aluno:
            <input type="text" id="aluno">
        </label>

        <label>Data de Nascimento (dd/mm/aaaa):
            <input type="text" id="dia" size="2" maxlength="2"> /
            <input type="text" id="mes" size="2" maxlength="2"> /
            <input type="text" id="ano" size="4" maxlength="4">
        </label>

        <label>Nome da Mãe:
            <input type="text" id="mae">
        </label>

        <label>Nome do Pai:
            <input type="text" id="pai">
        </label>

        <div class="linha">
            <label>Telefone: DDD
                <input type="text" id="ddd" size="2" maxlength="2">
            </label>

            <label>Tel:
                <input type="text" id="telefone" size="10">
            </label>

            <label>Ramal:
                <input type="text" id="ramal" size="5">
            </label>
        </div>

        <label>E-mail:
            <input type="text" id="email">
        </label>
    </fieldset>

    <fieldset>
        <legend>Informações de Matrícula:</legend>

        <label>Série:
            <select id="serie">
                <option value="">Selecione</option>
                <option>pré-escolar</option>
                <option>1º ano</option>
                <option>2º ano</option>
            </select>
        </label>

        <label>Turno:</label>
        <label><input type="radio" name="turno" value="manha"> Manhã</label>
        <label><input type="radio" name="turno" value="tarde"> Tarde</label>

        <label>Atividades Extracurriculares:</label>
        <label><input type="checkbox" name="atividade" value="info"> Informática</label>
        <label><input type="checkbox" name="atividade" value="musica"> Música</label>
        <label><input type="checkbox" name="atividade" value="balet"> Balet</label>
        <label><input type="checkbox" name="atividade" value="pintura"> Pintura</label>
        <label><input type="checkbox" name="atividade" value="judo"> Judô</label>
        <label><input type="checkbox" name="atividade" value="futebol"> Futebol</label>
    </fieldset>

    <button type="button" onclick="enviar()">Enviar Formulário</button>
    <button type="reset">Limpar Campos</button>

    <div id="mensagem"></div>

</form>

<script>
    const dddsValidos = [
      11,12,13,14,15,16,17,18,19,
      21,22,24,27,28,
      31,32,33,34,35,37,38,
      41,42,43,44,45,46,
      47,48,49,
      51,53,54,55,
      61,62,64,65,66,67,68,69,
      71,73,74,75,77,79,
      81,82,83,84,85,86,87,88,89,
      91,92,93,94,95,96,97,98,99
    ];

    function enviar() {
        let erro = "";
        let msg = document.getElementById("mensagem");
        msg.innerHTML = "";

        const aluno = document.getElementById("aluno").value.trim();
        const dia = document.getElementById("dia").value.trim();
        const mes = document.getElementById("mes").value.trim();
        const ano = document.getElementById("ano").value.trim();
        const mae = document.getElementById("mae").value.trim();
        const pai = document.getElementById("pai").value.trim();
        const ddd = document.getElementById("ddd").value.trim();
        const telefone = document.getElementById("telefone").value.trim();
        const email = document.getElementById("email").value.trim();

        const serie = document.getElementById("serie").value;
        const turno = document.querySelector("input[name='turno']:checked");
        const atividades = document.querySelectorAll("input[name='atividade']:checked");


        if (!aluno || !dia || !mes || !ano || !mae || !pai || !ddd || !telefone || !email || !serie || !turno) {
            erro += "⚠ Preencha todos os campos obrigatórios.<br>";
        }

    
        const data = new Date(`${ano}-${mes}-${dia}`);
        if (isNaN(data.getTime()) || dia < 1 || dia > 31 || mes < 1 || mes > 12) {
            erro += "⚠ Data de nascimento inválida.<br>";
        }

       
        if (!email.includes("@") || !email.includes(".")) {
            erro += "⚠ E-mail inválido.<br>";
        }

    
        if (!dddsValidos.includes(Number(ddd))) {
            erro += "⚠ DDD inválido.<br>";
        }

        
        if (atividades.length > 3) {
            erro += "⚠ Escolha no máximo 3 atividades extracurriculares.<br>";
        }

        if (erro) {
            msg.className = "erro";
            msg.innerHTML = erro;
        } else {
            msg.className = "sucesso";
            msg.innerHTML = "✔ Cadastro realizado com sucesso!";
        }
    }
</script>

</body>
</html>
